/*! Splitting, ${npm_package_version} https://github.com/shshaw/splitting/ @license MIT */
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.Splitting=e()}(this,function(){"use strict";var t=document;function f(n,e,t){n.style.setProperty(e,t)}function a(n,e){return n.appendChild(e)}function l(n,e,t){var r=document.createElement("span");return r.className=e,t&&(r.setAttribute("data-"+e,t),r.textContent=t),n&&a(n,r)||r}function d(n,e){return n&&0!=n.length?n.nodeName?[n]:[].slice.call(n[0].nodeName?n:(e||t).querySelectorAll(n)):[]}function o(n){for(var e=[];n--;)e[n]=[];return e}function p(n,e){n&&n.some(e)}function e(e){return function(n){return e[n]}}var u={};function n(n){return function e(t,n,r){var i=r.indexOf(t);if(-1==i)r.unshift(t),p(u[t].depends,function(n){e(n,t,r)});else{var o=r.indexOf(n);r.splice(i,1),r.splice(o,0,t)}return r}(n,0,[]).map(e(u))}function r(n){u[n.by]=n}var c=1,s=2;function m(n,t,r,i){n.normalize();var o=[],u=document.createDocumentFragment();return i===s&&o.push(n.previousSibling),n.childNodes.forEach(function(n){if(n&&n.childNodes&&n.childNodes.length)return a(u,n),void o.push.apply(o,m(n,t,r,i));var e=(n.wholeText||"").trim();e.length?p(e.split(r),function(n,e){e&&i===c&&l(u,t," "),o.push(l(u,t,n))}):a(u,n)}),n.innerHTML="",a(n,u),o}var i="words",y={by:i,key:"word",split:function(n,e){return m(n,"word",/\s+/,c)}},h="chars",g={by:h,key:"char",depends:[i],split:function(n,t,e){var r=[];return p(e[i],function(n,e){r.push.apply(r,m(n,"char","",t.whitespace&&e?s:0))}),r}};function v(n,t){var r={};return p(n,function(n){var e=Math.round(n[t]);r[e]||(r[e]=[]).push(n)}),Object.keys(r).map(Number).sort().map(e(r))}var b={by:"lines",key:"line",alias:1,depends:[i],split:function(n,e,t){return v(t[i],"offsetTop")}},w={by:"items",key:"item",split:function(n,e){return d(e.matching||n.children,n)}},k={by:"rows",key:"row",split:function(n,e,t){return v(d(e.matching||n.children,n),"offsetTop")}},x={by:"cols",key:"col",split:function(n,e,t){return v(d(e.matching||n.children,n),"offsetLeft")}},N="layout",L={by:N,split:function(n,e){e.image=e.image||n.dataset.image||n.currentSrc||n.src;var t=e.rows=+(e.rows||n.dataset.rows||1),r=e.columns=+(e.columns||n.dataset.columns||1);if(e.image){var i=d("img",n)[0];e.image=i&&(i.currentSrc||i.src)}e.image&&f(n,"background-image","url("+e.image+")");for(var o=t*r,u=[],c=l(0,"cell-grid");o--;){var s=l(c,"cell");l(s,"cell-inner"),u.push(s)}return a(n,c),u}},T={by:"cellColumns",key:"col",depends:[N],split:function(n,e,t){var r=e.columns,i=o(r);return p(t[N],function(n,e){i[e%r].push(n)}),i}},M={by:"cellRows",key:"row",depends:[N],split:function(n,e,t){var r=e.rows,i=o(r);return p(t[N],function(n,e,t){i[Math.floor(e/(t.length/r))].push(n)}),i}};function S(a){var l=(a=a||{}).key;return d(a.target||"[data-splitting]").map(function(c){var s={el:c};return p(n(a.by||c.dataset.splitting||h),function(n){if(n.split){var e=(n.key||"")+(l?"-"+l:""),t=n.split(c,a,s);e&&(r=c,u=(o="--"+e)+"-index",p(i=t,function(n,e){Array.isArray(n)?p(n,function(n){f(n,u,e)}):f(n,u,e)}),f(r,o+"-total",i.length)),s[n.by]=t,c.classList.add(n.by)}var r,i,o,u}),c.classList.add("splitting"),s})}return S.html=function(n){var e=(n=n||{}).target=l();return e.innerHTML=n.content,S(n),e.outerHTML},(S.add=r)(y),r(g),r(b),r(w),r(k),r(x),r({by:"grid",depends:["rows","cols"]}),r(L),r(M),r(T),r({by:"cells",key:"cell",depends:["cellRows","cellColumns"],split:function(n,e,t){return t.layout}}),S});